use std::net::Ipv4Addr;

pub fn get_ip() -> anyhow::Result<Ipv4Addr> {
    let mut args = std::env::args();

    if args.len() != 2 {
        println!("NEED IP!");
        std::process::exit(1);
    }

    args.next();

    return match args.next() {
        Some(ip) => Ok(ip.parse()?),
        _ => anyhow::bail!("It's not ip!"),
    };
}